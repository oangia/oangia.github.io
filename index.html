<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Major Scale Chords</title>
  <style>
    /* 1. Use a more-intuitive box-sizing model */
*, *::before, *::after {
  box-sizing: border-box;
}

/* 2. Remove default margin */
* {
  margin: 0;
}

/* 3. Enable keyword animations */
@media (prefers-reduced-motion: no-preference) {
  html {
    interpolate-size: allow-keywords;
  }
}

body {
  /* 4. Add accessible line-height */
  line-height: 1.5;
  /* 5. Improve text rendering */
  -webkit-font-smoothing: antialiased;
}

/* 6. Improve media defaults */
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
}

/* 7. Inherit fonts for form controls */
input, button, textarea, select {
  font: inherit;
}

/* 8. Avoid text overflows */
p, h1, h2, h3, h4, h5, h6 {
  overflow-wrap: break-word;
}

/* 9. Improve line wrapping */
p {
  text-wrap: pretty;
}
h1, h2, h3, h4, h5, h6 {
  text-wrap: balance;
}

/*
  10. Create a root stacking context
*/
#root, #__next {
  isolation: isolate;
}
    body {
      font-family: sans-serif;
      padding: 20px;
    }
    .checkboxes {
      margin-bottom: 20px;
    }
    .checkboxes label {
      margin-right: 10px;
      display: inline-block;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th, td {
      border: 1px solid #aaa;
      padding: 8px 12px;
      text-align: center;
    }
    th {
      background-color: #f2f2f2;
    }
    tr:nth-child(even) td {
      background-color: #f9f9f9;
    }
    .m {
      color: #00c8c8;
      font-weight: bold;
    }
    .sharp {
      color: orange;
      font-weight: bold;
    }
    .tabs { display: flex; cursor: pointer; margin-bottom: 1em; }
    .tab { padding: 0.5em 1em; border: 1px solid #ccc; border-bottom: none; }
    .tab.active { background: #eee; }
    .tab-content { display: none; border: 1px solid #ccc; padding: 1em; }
    .tab-content.active { display: block; }
  </style>
</head>
<body>
  <div class="tabs">
    <div class="tab active" data-tab="1">Tab 1</div>
    <div class="tab" data-tab="2">Sport</div>
    <div class="tab" data-tab="3">Songs</div>
  </div>
  
  <div class="tab-content active" data-tab="1">
    <h1>Major Scale Diatonic Chords</h1>

    <div class="checkboxes" id="checkboxContainer"></div>
  
    <table id="chordTable">
      <thead>
        <tr>
          <th>Root</th>
          <th>I</th>
          <th>ii</th>
          <th>iii</th>
          <th>IV</th>
          <th>V</th>
          <th>vi</th>
          <th>vii°</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>  
  </div>
  <div class="tab-content" data-tab="2">
    <p>Arm wrestling</p>
    <p>Supplement: jump rope (daily), pull up 8x3 (maingain 2 a week), abs (daily, favorite)</p>  
  </div>
  <div class="tab-content" data-tab="3">
    <p>Warm up</p>
    <p>Cuộc tình trong cơn mưa</p>
    <p>Biết tìm đâu</p>
    <p>Lạ lùng</p>
    <p>Đắp mộ cuộc tình</p>
    <p>Gió</p>
    <p>Main songs</p>
    <p>Ngày chưa giông bão</p>
    <p>Con cò</p>
    <p>Nàng thơ</p>
    <p>Bèo dạt mây trôi</p>
    <p>High songs</p>
    <p>Tháng tư là lời nói dối của em</p>
    <p>Trái tim bên lề</p>
    <p>How deep is your love</p>
    <p>Your song </p>
    <p>I don’t want to miss a thing</p>
  </div>
  <p style="color:white">1. 2731 3032 6. 7734 5807 2. 2806 8217 7. 5886 0634 3. 3301 9695 8. 3598 7183 4. 7126 3194 9. 7652 0902 5. 0408 370810. 7539 6437</p>
  
  <script>
    const notes = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"];
    const majorScaleSteps = [0, 2, 4, 5, 7, 9, 11];
    const qualities = ["", "m", "m", "", "", "m", "dim"];

    const checkboxContainer = document.getElementById("checkboxContainer");
    const tbody = document.querySelector("#chordTable tbody");

    // Create checkboxes
    notes.forEach((note) => {
      const label = document.createElement("label");
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.value = note;
      checkbox.checked = note.indexOf('#') != 1;
      checkbox.addEventListener("change", updateTable);
      label.appendChild(checkbox);
      label.append(" " + note);
      checkboxContainer.appendChild(label);
    });

    function formatChord(chord) {
      // Replace '#' with colored span
      chord = chord.replace(/#/g, '<span class="sharp">#</span>');

      // Replace trailing 'm' only if it's not part of 'dim'
      if (chord.endsWith("m") && !chord.endsWith("dim")) {
        chord = chord.slice(0, -1) + '<span class="m">m</span>';
      }

      return chord;
    }

    function getChordRow(root, rootIndex) {
      const tr = document.createElement("tr");

      const rootCell = document.createElement("td");
      rootCell.textContent = root;
      tr.appendChild(rootCell);

      majorScaleSteps.forEach((step, i) => {
        const noteIndex = (rootIndex + step) % 12;
        const rawChord = notes[noteIndex] + qualities[i];
        const td = document.createElement("td");
        td.innerHTML = formatChord(rawChord);
        tr.appendChild(td);
      });

      return tr;
    }

    function updateTable() {
      tbody.innerHTML = "";
      const checkedNotes = [...document.querySelectorAll('input[type="checkbox"]:checked')]
        .map(cb => cb.value);
      checkedNotes.forEach(root => {
        const rootIndex = notes.indexOf(root);
        const row = getChordRow(root, rootIndex);
        tbody.appendChild(row);
      });
    }

    // Initial table load
    updateTable();
    document.querySelectorAll('.tab').forEach(tab => {
      tab.onclick = () => {
        document.querySelectorAll('.tab, .tab-content').forEach(el => el.classList.remove('active'));
        tab.classList.add('active');
        document.querySelector(`.tab-content[data-tab="${tab.dataset.tab}"]`).classList.add('active');
      };
    });
  </script>

</body>
</html>
