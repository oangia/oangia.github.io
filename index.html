<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Major Scale Chords</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="tabs">
    <div class="tab active" data-tab="1">Music</div>
    <div class="tab" data-tab="2">Sport</div>
    <div class="tab" data-tab="3">Songs</div>
    <div class="tab" data-tab="4">Scripts</div>
  </div>
  
  <div class="tab-content active" data-tab="1">
    <h1>Major Scale Diatonic Chords</h1>

    <div class="checkboxes" id="checkboxContainer"></div>
  
    <table id="chordTable">
      <thead>
        <tr>
          <th>Root</th>
          <th>I</th>
          <th>ii</th>
          <th>iii</th>
          <th>IV</th>
          <th>V</th>
          <th>vi</th>
          <th>vii°</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>  
  </div>
  <div class="tab-content" data-tab="2">
    <p>Arm wrestling</p>
    <p>Supplement:</p>  
    <p>Jump rope (cardio)</p>
    <p>Abs (javorite)</p>
    <p>Pull up</p>
  </div>
  <div class="tab-content" data-tab="3">
    <p>Warm up</p>
    <p>Cuộc tình trong cơn mưa</p>
    <p>Biết tìm đâu</p>
    <p>Lạ lùng</p>
    <p>Đắp mộ cuộc tình</p>
    <p>Gió</p>
    <p>Main songs</p>
    <p>Ngày chưa giông bão</p>
    <p>Con cò</p>
    <p>Nàng thơ</p>
    <p>Bèo dạt mây trôi</p>
    <p>High songs</p>
    <p>Tháng tư là lời nói dối của em</p>
    <p>Trái tim bên lề</p>
    <p>How deep is your love</p>
    <p>Your song </p>
    <p>I don’t want to miss a thing</p>
  </div>
  <div class="tab-content" data-tab="4">
  <iframe src="https://docs.google.com/document/d/e/2PACX-1vQszFdmDLCRdRJfl_RLElXmp4gnk0I8GV6qV47tfRK6GagtSmKOTR0wS2tCXQk-fqpqbFEsfLqykXHF/pub?embedded=true"></iframe>
  </div>
  <iframe style="width: 100vw; height: 100vh; border: none;" autoplay="1" src="https://www.youtube.com/embed/VHxNpNjKurU?autoplay=1&mute=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  <p style="color:white">1. 2731 3032 6. 7734 5807 2. 2806 8217 7. 5886 0634 3. 3301 9695 8. 3598 7183 4. 7126 3194 9. 7652 0902 5. 0408 370810. 7539 6437</p>
  
  <script>
    const notes = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"];
    const majorScaleSteps = [0, 2, 4, 5, 7, 9, 11];
    const qualities = ["", "m", "m", "", "", "m", "dim"];

    const checkboxContainer = document.getElementById("checkboxContainer");
    const tbody = document.querySelector("#chordTable tbody");

    // Create checkboxes
    notes.forEach((note) => {
      const label = document.createElement("label");
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.value = note;
      checkbox.checked = note.indexOf('#') != 1;
      checkbox.addEventListener("change", updateTable);
      label.appendChild(checkbox);
      label.append(" " + note);
      checkboxContainer.appendChild(label);
    });

    function formatChord(chord) {
      // Replace '#' with colored span
      chord = chord.replace(/#/g, '<span class="sharp">#</span>');

      // Replace trailing 'm' only if it's not part of 'dim'
      if (chord.endsWith("m") && !chord.endsWith("dim")) {
        chord = chord.slice(0, -1) + '<span class="m">m</span>';
      }

      return chord;
    }

    function getChordRow(root, rootIndex) {
      const tr = document.createElement("tr");

      const rootCell = document.createElement("td");
      rootCell.textContent = root;
      tr.appendChild(rootCell);

      majorScaleSteps.forEach((step, i) => {
        const noteIndex = (rootIndex + step) % 12;
        const rawChord = notes[noteIndex] + qualities[i];
        const td = document.createElement("td");
        td.innerHTML = formatChord(rawChord);
        tr.appendChild(td);
      });

      return tr;
    }

    function updateTable() {
      tbody.innerHTML = "";
      const checkedNotes = [...document.querySelectorAll('input[type="checkbox"]:checked')]
        .map(cb => cb.value);
      checkedNotes.forEach(root => {
        const rootIndex = notes.indexOf(root);
        const row = getChordRow(root, rootIndex);
        tbody.appendChild(row);
      });
    }

    // Initial table load
    updateTable();
    document.querySelectorAll('.tab').forEach(tab => {
      tab.onclick = () => {
        document.querySelectorAll('.tab, .tab-content').forEach(el => el.classList.remove('active'));
        tab.classList.add('active');
        document.querySelector(`.tab-content[data-tab="${tab.dataset.tab}"]`).classList.add('active');
      };
    });
  </script>
  <script src="sha256.js"></script>
  <script>
  const public_key = 'a14e2038d76d958448d63f5407241885769394e9ab030b2d23fcdd4e714c389a';
  function getCookie(name) {
    return document.cookie.split('; ').find(row => row.startsWith(name + '='))?.split('=')[1];
  }
  const auth = getCookie("auth");
  const public = await sha256(auth);
  if (public == public_key) {
    setCookie("auth", public, 30);
    
  } else {
    window.location.href = "login.html"
  }
  </script>
</body>
</html>
